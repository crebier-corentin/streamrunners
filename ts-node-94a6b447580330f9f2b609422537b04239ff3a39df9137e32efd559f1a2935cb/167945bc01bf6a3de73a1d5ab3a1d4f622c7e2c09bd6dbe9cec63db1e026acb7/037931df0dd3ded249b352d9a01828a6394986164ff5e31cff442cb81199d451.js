"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", { value: true });
class RemoveEmail1568048493734 {
    up(queryRunner) {
        return __awaiter(this, void 0, void 0, function* () {
            yield queryRunner.query("ALTER TABLE `user` DROP COLUMN `email`");
            yield queryRunner.query("ALTER TABLE `stream_queue` CHANGE `start` `start` datetime NULL");
            yield queryRunner.query("ALTER TABLE `coupon` CHANGE `expires` `expires` datetime NOT NULL");
            yield queryRunner.query("ALTER TABLE `user_power` CHANGE `expires` `expires` datetime NULL");
            yield queryRunner.query("ALTER TABLE `user` CHANGE `lastUpdate` `lastUpdate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP");
            yield queryRunner.query("ALTER TABLE `vip` CHANGE `start` `start` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP");
            yield queryRunner.query("ALTER TABLE `vip` CHANGE `last` `last` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP");
        });
    }
    down(queryRunner) {
        return __awaiter(this, void 0, void 0, function* () {
            yield queryRunner.query("ALTER TABLE `vip` CHANGE `last` `last` datetime(0) NOT NULL DEFAULT CURRENT_TIMESTAMP");
            yield queryRunner.query("ALTER TABLE `vip` CHANGE `start` `start` datetime(0) NOT NULL DEFAULT CURRENT_TIMESTAMP");
            yield queryRunner.query("ALTER TABLE `user` CHANGE `lastUpdate` `lastUpdate` datetime(0) NOT NULL DEFAULT CURRENT_TIMESTAMP");
            yield queryRunner.query("ALTER TABLE `user_power` CHANGE `expires` `expires` datetime(0) NULL");
            yield queryRunner.query("ALTER TABLE `coupon` CHANGE `expires` `expires` datetime(0) NOT NULL");
            yield queryRunner.query("ALTER TABLE `stream_queue` CHANGE `start` `start` datetime(0) NULL");
            yield queryRunner.query("ALTER TABLE `user` ADD `email` varchar(255) NOT NULL");
        });
    }
}
exports.RemoveEmail1568048493734 = RemoveEmail1568048493734;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1N0cmVhbVJ1bm5lcnMvVHdpdGNoVmlldy9kYXRhYmFzZS9taWdyYXRpb24vMTU2ODA0ODQ5MzczNC1SZW1vdmVFbWFpbC50cyIsInNvdXJjZXMiOlsiL1N0cmVhbVJ1bm5lcnMvVHdpdGNoVmlldy9kYXRhYmFzZS9taWdyYXRpb24vMTU2ODA0ODQ5MzczNC1SZW1vdmVFbWFpbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUVBLE1BQWEsd0JBQXdCO0lBRXBCLEVBQUUsQ0FBQyxXQUF3Qjs7WUFDcEMsTUFBTSxXQUFXLENBQUMsS0FBSyxDQUFDLHdDQUF3QyxDQUFDLENBQUM7WUFDbEUsTUFBTSxXQUFXLENBQUMsS0FBSyxDQUFDLGlFQUFpRSxDQUFDLENBQUM7WUFDM0YsTUFBTSxXQUFXLENBQUMsS0FBSyxDQUFDLG1FQUFtRSxDQUFDLENBQUM7WUFDN0YsTUFBTSxXQUFXLENBQUMsS0FBSyxDQUFDLG1FQUFtRSxDQUFDLENBQUM7WUFDN0YsTUFBTSxXQUFXLENBQUMsS0FBSyxDQUFDLGlHQUFpRyxDQUFDLENBQUM7WUFDM0gsTUFBTSxXQUFXLENBQUMsS0FBSyxDQUFDLHNGQUFzRixDQUFDLENBQUM7WUFDaEgsTUFBTSxXQUFXLENBQUMsS0FBSyxDQUFDLG9GQUFvRixDQUFDLENBQUM7UUFDbEgsQ0FBQztLQUFBO0lBRVksSUFBSSxDQUFDLFdBQXdCOztZQUN0QyxNQUFNLFdBQVcsQ0FBQyxLQUFLLENBQUMsdUZBQXVGLENBQUMsQ0FBQztZQUNqSCxNQUFNLFdBQVcsQ0FBQyxLQUFLLENBQUMseUZBQXlGLENBQUMsQ0FBQztZQUNuSCxNQUFNLFdBQVcsQ0FBQyxLQUFLLENBQUMsb0dBQW9HLENBQUMsQ0FBQztZQUM5SCxNQUFNLFdBQVcsQ0FBQyxLQUFLLENBQUMsc0VBQXNFLENBQUMsQ0FBQztZQUNoRyxNQUFNLFdBQVcsQ0FBQyxLQUFLLENBQUMsc0VBQXNFLENBQUMsQ0FBQztZQUNoRyxNQUFNLFdBQVcsQ0FBQyxLQUFLLENBQUMsb0VBQW9FLENBQUMsQ0FBQztZQUM5RixNQUFNLFdBQVcsQ0FBQyxLQUFLLENBQUMsc0RBQXNELENBQUMsQ0FBQztRQUNwRixDQUFDO0tBQUE7Q0FFSjtBQXRCRCw0REFzQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge01pZ3JhdGlvbkludGVyZmFjZSwgUXVlcnlSdW5uZXJ9IGZyb20gXCJ0eXBlb3JtXCI7XG5cbmV4cG9ydCBjbGFzcyBSZW1vdmVFbWFpbDE1NjgwNDg0OTM3MzQgaW1wbGVtZW50cyBNaWdyYXRpb25JbnRlcmZhY2Uge1xuXG4gICAgcHVibGljIGFzeW5jIHVwKHF1ZXJ5UnVubmVyOiBRdWVyeVJ1bm5lcik6IFByb21pc2U8YW55PiB7XG4gICAgICAgIGF3YWl0IHF1ZXJ5UnVubmVyLnF1ZXJ5KFwiQUxURVIgVEFCTEUgYHVzZXJgIERST1AgQ09MVU1OIGBlbWFpbGBcIik7XG4gICAgICAgIGF3YWl0IHF1ZXJ5UnVubmVyLnF1ZXJ5KFwiQUxURVIgVEFCTEUgYHN0cmVhbV9xdWV1ZWAgQ0hBTkdFIGBzdGFydGAgYHN0YXJ0YCBkYXRldGltZSBOVUxMXCIpO1xuICAgICAgICBhd2FpdCBxdWVyeVJ1bm5lci5xdWVyeShcIkFMVEVSIFRBQkxFIGBjb3Vwb25gIENIQU5HRSBgZXhwaXJlc2AgYGV4cGlyZXNgIGRhdGV0aW1lIE5PVCBOVUxMXCIpO1xuICAgICAgICBhd2FpdCBxdWVyeVJ1bm5lci5xdWVyeShcIkFMVEVSIFRBQkxFIGB1c2VyX3Bvd2VyYCBDSEFOR0UgYGV4cGlyZXNgIGBleHBpcmVzYCBkYXRldGltZSBOVUxMXCIpO1xuICAgICAgICBhd2FpdCBxdWVyeVJ1bm5lci5xdWVyeShcIkFMVEVSIFRBQkxFIGB1c2VyYCBDSEFOR0UgYGxhc3RVcGRhdGVgIGBsYXN0VXBkYXRlYCBkYXRldGltZSBOT1QgTlVMTCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QXCIpO1xuICAgICAgICBhd2FpdCBxdWVyeVJ1bm5lci5xdWVyeShcIkFMVEVSIFRBQkxFIGB2aXBgIENIQU5HRSBgc3RhcnRgIGBzdGFydGAgZGF0ZXRpbWUgTk9UIE5VTEwgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUFwiKTtcbiAgICAgICAgYXdhaXQgcXVlcnlSdW5uZXIucXVlcnkoXCJBTFRFUiBUQUJMRSBgdmlwYCBDSEFOR0UgYGxhc3RgIGBsYXN0YCBkYXRldGltZSBOT1QgTlVMTCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QXCIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBkb3duKHF1ZXJ5UnVubmVyOiBRdWVyeVJ1bm5lcik6IFByb21pc2U8YW55PiB7XG4gICAgICAgIGF3YWl0IHF1ZXJ5UnVubmVyLnF1ZXJ5KFwiQUxURVIgVEFCTEUgYHZpcGAgQ0hBTkdFIGBsYXN0YCBgbGFzdGAgZGF0ZXRpbWUoMCkgTk9UIE5VTEwgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUFwiKTtcbiAgICAgICAgYXdhaXQgcXVlcnlSdW5uZXIucXVlcnkoXCJBTFRFUiBUQUJMRSBgdmlwYCBDSEFOR0UgYHN0YXJ0YCBgc3RhcnRgIGRhdGV0aW1lKDApIE5PVCBOVUxMIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVBcIik7XG4gICAgICAgIGF3YWl0IHF1ZXJ5UnVubmVyLnF1ZXJ5KFwiQUxURVIgVEFCTEUgYHVzZXJgIENIQU5HRSBgbGFzdFVwZGF0ZWAgYGxhc3RVcGRhdGVgIGRhdGV0aW1lKDApIE5PVCBOVUxMIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVBcIik7XG4gICAgICAgIGF3YWl0IHF1ZXJ5UnVubmVyLnF1ZXJ5KFwiQUxURVIgVEFCTEUgYHVzZXJfcG93ZXJgIENIQU5HRSBgZXhwaXJlc2AgYGV4cGlyZXNgIGRhdGV0aW1lKDApIE5VTExcIik7XG4gICAgICAgIGF3YWl0IHF1ZXJ5UnVubmVyLnF1ZXJ5KFwiQUxURVIgVEFCTEUgYGNvdXBvbmAgQ0hBTkdFIGBleHBpcmVzYCBgZXhwaXJlc2AgZGF0ZXRpbWUoMCkgTk9UIE5VTExcIik7XG4gICAgICAgIGF3YWl0IHF1ZXJ5UnVubmVyLnF1ZXJ5KFwiQUxURVIgVEFCTEUgYHN0cmVhbV9xdWV1ZWAgQ0hBTkdFIGBzdGFydGAgYHN0YXJ0YCBkYXRldGltZSgwKSBOVUxMXCIpO1xuICAgICAgICBhd2FpdCBxdWVyeVJ1bm5lci5xdWVyeShcIkFMVEVSIFRBQkxFIGB1c2VyYCBBREQgYGVtYWlsYCB2YXJjaGFyKDI1NSkgTk9UIE5VTExcIik7XG4gICAgfVxuXG59XG4iXX0=